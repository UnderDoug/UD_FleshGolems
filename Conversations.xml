<?xml version="1.0" encoding="utf-8" ?>
<conversations>
  <conversation ID="UD_FleshGolems NewlyReanimatedBeings">
    
    <node ID="choices">
      <choice ID="JoinPartyChoice" IfSourceOfSuffering="true">
        <text>Come along now... {{r|friend}}.</text>
        <part Name="WaterRitualJoinParty" />
      </choice>
      <choice ID="GoEnd" Target="End">
        <text IfSourceOfSuffering="true">Uh... Sorry?</text>
        <text IfSourceOfSuffering="false">Unlive and drink...</text>
      </choice>
    </node>
    <node ID="Start">
      <text IfSourceOfSuffering="false">
        Hrgh.. urgh.. ghuh?~
        Unlive..... and drink???~
      </text>
      <text>
        Wh- why??~
        {{emote|*wilhelm scream*}}
      </text>
      <choice UseID="JoinPartyChoice" />
      <choice UseID="GoEnd" />
    </node>
  </conversation>

  <conversation ID="UD_FleshGolems MadMonger">
    <node ID="choices">
      <!-- 
      
      This is what the player "says" to go to the "Target" "node ID" 
      (the availability of a choice can be conditional, too)
      
      -->
      <choice ID="GoEnd" Target="End">
        <text IfTrueKin="true" Priority="1">
          Live and drink.
        </text>
        <text IfHavePart="Chimera" Priority="2">
          Live and... Mong?
        </text>
        <text IfHavePart="Esper" Priority="2">
          Who'd want to meet meat?
        </text>
        <text Priority="3">
          Live and drink.
        </text>
      </choice>

      <choice ID="GoPostGreeting" Target="PostGreeting">
        <text>There was something else...</text>
        <part Name="Tag">{{K|[start over]}}</part>
      </choice>

      <choice ID="Trade" Load="Merge">
        <text IfTrueKin="true" Priority="1">
          You mentioned goodies?
        </text>
        <text IfHavePart="Chimera" Priority="2">
          Meat??
        </text>
        <text IfHavePart="Esper" Priority="2">
          Show me your wares.
        </text>
        <text Priority="3">
          Let's trade.
        </text>
      </choice>

      <choice ID="WhatYouDoing" Target="WhatImDoing">
        <text>
          What are you doing with that mess?
        </text>
      </choice>

      <!--
      
      this is an example of a choice that changes the game state
       - when we've complimented the MadMong, the game records that we've done so and the text of the choice changes to reflect that
      
      <choice ID="GoLookingFly" Target="ReactLookingFly"
              SetBooleanState="UD_FleshGolems_Complimented_MadMong,true">
        <text IfNotHaveState="UD_FleshGolems_Complimented_MadMong">Looking fly, there, MadMong! Anyone ever tell you that?</text>
        <text IfTestState="UD_FleshGolems_Complimented_MadMong">Looking fly, as always, MadMong!</text>
      </choice>
      
      
      this is an example of a choice that is only available when some other condition is met
       - if the game has a record that we've complimented the MadMong, then we get an additional choice to ask them if we're being ignored
       - the text of the choice can also be conditionally controlled like above
      
      <choice ID="GoDidYouHearMe" Target="ReactDidYouHearMe" IfTestState="UD_FleshGolems_Complimented_MadMong">
        <text>MadMong, are you ignoring me?</text>
      </choice>
      
      -->
    </node>

    <!-- 
    
    Actual convo starts here
    
    -->
    
    <node ID="Start">
      <text IfTrueKin="true" Priority="3">
        Why if it isn't the meat that fancies itself nobility.~
        Do you have to have all of those machines implanted? They make perfoming vivisections so annoying.~
        Does the rare meat wish to purchase more meat? Perhaps there's a goodie or two you could use.~
        You'd be better served 'becoming' my test subject.
      </text>
      <text IfHavePart="Chimera" Priority="2">
        Your biology is so......unstable, fasinating.~
        May I have a limb or two, you can surely spare at least one.~
        So much material to work with!!!~
        Would you like to purchase a snack, gargantuan meat? There must be something here to your liking.
      </text>
      <text IfHavePart="Esper" Priority="2">
        Grey meat, the second worst kind, so little viable material.~
        When your mind is inevitably consumed by sights older than sight, may I have your remains?~
        Would you like to purchase something? Perhaps it can provide a little comfort while you cower from unseen "eyes".~
        One wrong step and I activate my normalitly field.
      </text>
      <text Priority="1">
        Salutations, meat.~
        May I have your legs? I promise to return them.~
        Would you kindly lay upon this table here, I assure you that it is entirly safe.~
        Would you like to purchase something, meat?
      </text>
      <choice UseID="WhatYouDoing" />
      <choice UseID="GoEnd" />
    </node>

    <!-- Returning directly to the start feels strange, so the below acts as a landing node for the "there was something else" choice -->
    <node ID="PostGreeting">
      <text IfTrueKin="true" Priority="1">
        Oh, the liege lord wants of =player.possessive= subject?
      </text>
      <text IfHavePart="Chimera" Priority="2">
        The beast speaks.
      </text>
      <text IfHavePart="Esper" Priority="2">
        As a gray worm in my ear, I'm sure.
      </text>
      <text Priority="3">
        Out with it then, meat.
      </text>
      <choice UseID="WhatYouDoing" />
      <choice UseID="GoEnd" />
    </node>
    
    <node ID="WhatImDoing">
      <text>
        Perchance, lesser mind, what, pray, does it {{Y|appear}} I might be doing?
      </text>
      <!-- choices can possible have their text changed on the fly on a per-node basis (I'll test and let you know) -->
      <choice UseID="GoPostGreeting">Rightio, then! There was something else...</choice>
      <choice UseID="GoEnd" />
    </node>
  </conversation> 
        
  <conversation ID="UD_FleshGolems Jofo Qudwufo">
    <node ID="choices">
      <choice ID="GoEnd" Target="End">
        <text>Live and drink.</text>
      </choice>
      
      <choice ID="GoStart" Target="Start">
        <text>There was something else...</text>
      </choice>
      
      <choice ID="GoWhoJohnQud" Target="WhoJohnQud"
              SetBooleanState="UD_FleshGolems_Asked_WhoJohnQud,true">
        <text IfNotHaveState="UD_FleshGolems_Asked_WhoJohnQud">John Qud?</text>
        <text IfTestState="UD_FleshGolems_Asked_WhoJohnQud">Remind me who John Qud is?</text>
      </choice>
    </node>
    
    <!-- Actual convo starts here -->
    <node ID="Start">
      <text>
        I'm Jofo Qudwufo, reanimated snapjaw and companion of the late John Qud!
      </text>
      <choice UseID="GoWhoJohnQud" />
      <choice UseID="GoEnd" />
    </node>
    
    <node ID="WhoJohnQud">
      <text>
        You haven't heard of John Qud!?
        
        Why, the game was named after him, didn't you know?
      </text>
      <choice UseID="GoStart" />
      <choice UseID="GoEnd" />
    </node>
    
  </conversation>
</conversations>
